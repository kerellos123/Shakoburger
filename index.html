<!DOCTYPE html>  
<html lang="ar" dir="rtl">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <title>Shako Burger | Ù†Ø¸Ø§Ù… Ø·Ù„Ø¨Ø§Øª Ù…ØªØ·ÙˆØ±</title>  
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">  
    <style>  
        :root {  
            --primary: #c62828;  
            --secondary: #ffb300;  
            --dark: #121212;  
            --white: #ffffff;  
            --remove-color: #e53935;  
            --add-color: #43a047;  
            --blue: #1e88e5;  
        }  
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Cairo', sans-serif; }  
        body { background-color: #f4f4f4; color: var(--dark); padding-bottom: 120px; }  

        header { background: var(--dark); padding: 1.2rem; text-align: center; border-bottom: 3px solid var(--secondary); position: sticky; top: 0; z-index: 1000; }  
        .logo { color: var(--secondary); font-size: 1.8rem; font-weight: 900; }  

        .container { max-width: 650px; margin: 0 auto; padding: 1rem; }  
        .step { display: none; animation: slideUp 0.3s ease; }  
        .step.active { display: block; }  
        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }  

        .card { background: var(--white); border-radius: 18px; padding: 1.5rem; box-shadow: 0 4px 15px rgba(0,0,0,0.05); margin-bottom: 1.2rem; border: 1px solid #eee; }  
          
        /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„ÙØ§ØªÙˆØ±Ø© */  
        .item-actions { display: flex; gap: 10px; margin-top: 10px; }  
        .btn-sm { padding: 5px 15px; border-radius: 8px; font-size: 0.85rem; border: none; cursor: pointer; font-weight: bold; display: flex; align-items: center; gap: 5px; }  
        .btn-edit { background: #e3f2fd; color: var(--blue); }  
        .btn-delete { background: #ffebee; color: var(--remove-color); }  

        .option-group { margin-bottom: 1.5rem; }  
        .tile { display: flex; justify-content: space-between; align-items: center; padding: 12px; background: #fdfdfd; border-radius: 12px; margin-bottom: 8px; border: 1px solid #eee; }  
          
        .qty-control { display: flex; align-items: center; gap: 12px; }  
        .btn-circle { width: 34px; height: 34px; border-radius: 50%; border: none; background: var(--primary); color: white; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; }  

        .invoice-section { margin-top: 8px; padding: 10px; border-radius: 10px; font-size: 0.9rem; }  
        .section-removals { background: #fff5f5; border-right: 4px solid var(--remove-color); }  
        .section-adds { background: #f5fff6; border-right: 4px solid var(--add-color); }  

        .footer { position: fixed; bottom: 0; left: 0; right: 0; background: var(--dark); padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; z-index: 1001; }  
        .total-price { color: var(--secondary); font-size: 1.4rem; font-weight: 900; }  
          
        .btn-group { display: flex; gap: 10px; width: 60%; }  
        .btn-next { flex: 2; background: var(--secondary); color: var(--dark); border: none; padding: 12px; border-radius: 10px; font-weight: 700; cursor: pointer; }  
        .btn-home { flex: 1; background: #444; color: white; border: none; padding: 12px; border-radius: 10px; font-weight: 700; cursor: pointer; }  

        input { width: 100%; padding: 12px; border-radius: 10px; border: 1px solid #ddd; margin-top: 5px; }  
    </style>

</head>  
<body>  
    <header><div class="logo">SHAKO BURGER ğŸ”</div></header>  
    <div class="container">  
        <div id="step1" class="step active">  
            <div class="card" style="text-align:center; padding: 2rem 1rem;">  
                <div style="font-size: 4rem;">ğŸ”</div>  
                <h1 style="color: var(--primary); margin-bottom: 20px;">Ø´Ø§ÙƒÙˆ Ø³Ø¨ÙŠØ´ÙŠØ§Ù„ Ø¨Ø±Ø¬Ø±</h1>  
                <p style="margin-bottom: 20px; color: #666;">Ø³Ø§Ù†Ø¯ÙˆØªØ´ Ø§Ù„Ø¨Ø±Ø¬Ø± Ø§Ù„Ù…Ø­Ø´ÙŠ Ø¨Ø§Ù„Ø¬Ø¨Ù†Ø© (120 Ø¬)</p>  
                <div class="qty-control" style="justify-content: center; gap: 20px;">  
                    <button class="btn-circle" style="width:50px; height:50px;" onclick="changeMainQty(-1)">âˆ’</button>  
                    <span id="mainQtyDisplay" style="font-size: 2.5rem; font-weight: 900;">1</span>  
                    <button class="btn-circle" style="width:50px; height:50px;" onclick="changeMainQty(1)">+</button>  
                </div>  
                <button class="btn-next" style="width:100%; margin-top: 30px; font-size: 1.1rem;" onclick="initSandwiches()">ØªØ®ØµÙŠØµ Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</button>  
            </div>  
        </div>  
        
        <div id="step2" class="step">  
            <h2 style="text-align: center; margin-bottom: 1rem;">Ø®ØµØµ Ø³Ø§Ù†Ø¯ÙˆØªØ´Ø§ØªÙƒ</h2>  
            <div id="burgerList"></div>  
        </div>  

        <div id="step3" class="step">  
            <div class="card">  
                <h3>ğŸ“ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙˆØµÙŠÙ„</h3>  
                <input type="text" id="custName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„">  
                <input type="tel" id="custPhone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„">  
                <input type="text" id="custAddress" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù† (Ø§Ù„Ù…Ù†Ø·Ù‚Ø© - Ø§Ù„Ø´Ø§Ø±Ø¹ - Ø¹Ù„Ø§Ù…Ø© Ù…Ù…ÙŠØ²Ø©)">  
            </div>  
            <div id="billDetails"></div>  
        </div>

    </div>  
    
    <div class="footer" id="footerBar" style="display: none;">  
        <div>  
            <div style="color: #bbb; font-size: 0.75rem;">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</div>  
            <div class="total-price"><span id="totalValue">0</span> <small>Ø¬</small></div>  
        </div>  
        <div class="btn-group" id="actionArea"></div>  
    </div>  
    
    <script>  
        let sandwiches = [];  
        const BASE_PRICE = 120;  
        const ADDONS = { burger: 75, egg: 10, cheese: 15 };  
        const NAMES = { burger: 'Ø¨Ø±Ø¬Ø± Ù…Ø­Ø´ÙŠ', egg: 'Ø¨ÙŠØ¶', cheese: 'Ø¬Ø¨Ù†Ø© Ø¥Ø¶Ø§ÙÙŠØ©' };  
        const INGR = { onion: 'Ø¨ØµÙ„', tomato: 'Ø·Ù…Ø§Ø·Ù…', lettuce: 'ÙƒØ§Ø¨ÙˆØªØ´ÙŠ', sauce: 'ØµÙˆØµ Ø´Ø§ÙƒÙˆ' };  
      
        function showStep(s) {  
            document.querySelectorAll('.step').forEach(el => el.classList.remove('active'));  
            document.getElementById('step' + s).classList.add('active');  
            document.getElementById('footerBar').style.display = (s > 1) ? 'flex' : 'none';  
              
            const actionArea = document.getElementById('actionArea');  
            if(s === 2) {  
                actionArea.innerHTML = `  
                    <button class="btn-home" onclick="goHome()">ğŸ </button>  
                    <button class="btn-next" onclick="renderInvoice()">Ø§Ù„ÙØ§ØªÙˆØ±Ø© â†</button>`;  
            } else if(s === 3) {  
                actionArea.innerHTML = `  
                    <button class="btn-home" onclick="goHome()">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>  
                    <button class="btn-next" style="background:#25D366; color:white;" onclick="sendWhatsApp()">ØªØ£ÙƒÙŠØ¯ ğŸ’¬</button>`;  
            }  
            window.scrollTo(0,0);  
        }  
      
        function changeMainQty(v) {  
            let el = document.getElementById('mainQtyDisplay');  
            let val = parseInt(el.innerText) + v;  
            if(val >= 1) el.innerText = val;  
        }  
      
        function goHome() {  
            if(confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ÙˆØ¥Ù„ØºØ§Ø¡ Ù‡Ø°Ø§ Ø§Ù„Ø·Ù„Ø¨ØŸ")) {  
                sandwiches = [];  
                document.getElementById('mainQtyDisplay').innerText = "1";  
                showStep(1);  
            }  
        }  
      
        function initSandwiches() {  
            let qty = parseInt(document.getElementById('mainQtyDisplay').innerText);  
            sandwiches = Array.from({length: qty}, (_, i) => ({  
                id: Date.now() + i,  
                removals: [],  
                adds: { burger: 0, egg: 0, cheese: 0 }  
            }));  
            renderCustomizer();  
            showStep(2);  
        }  
      
        function renderCustomizer() {  
            const list = document.getElementById('burgerList');  
            list.innerHTML = sandwiches.map((s, i) => `  
                <div class="card" id="card_${i}">  
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">  
                        <h3 style="color:var(--primary)">ğŸ” Ø³Ø§Ù†Ø¯ÙˆØªØ´ #${i+1}</h3>  
                        <b style="background:#f0f0f0; padding:2px 10px; border-radius:10px;">${calculateSPrice(s)} Ø¬</b>  
                    </div>  
                    <div class="option-group">  
                        <span style="font-weight:bold; font-size:0.9rem;">ğŸš« Ø¨Ø¯ÙˆÙ†:</span>  
                        <div style="display:grid; grid-template-columns:1fr 1fr; gap:8px; margin-top:5px;">  
                            ${Object.keys(INGR).map(k => `  
                                <div class="tile" style="padding:8px;">  
                                    <label for="rem_${i}_${k}">${INGR[k]}</label>  
                                    <input type="checkbox" id="rem_${i}_${k}" ${s.removals.includes(k) ? 'checked' : ''} onchange="toggleRem(${i},'${k}',this.checked)">  
                                </div>  
                            `).join('')}  
                        </div>  
                    </div>  
                    <div class="option-group">  
                        <span style="font-weight:bold; font-size:0.9rem;">â• Ø¥Ø¶Ø§ÙØ§Øª:</span>  
                        ${Object.keys(ADDONS).map(k => `  
                            <div class="tile">  
                                <span>${NAMES[k]} (+${ADDONS[k]}Ø¬)</span>  
                                <div class="qty-control">  
                                    <button class="btn-circle" style="width:28px; height:28px;" onclick="updateAdd(${i},'${k}',-1)">âˆ’</button>  
                                    <b>${s.adds[k]}</b>  
                                    <button class="btn-circle" style="width:28px; height:28px;" onclick="updateAdd(${i},'${k}',1)">+</button>  
                                </div>  
                            </div>  
                        `).join('')}  
                    </div>  
                </div>  
            `).join('');  
            updateTotal();  
        }  
      
        function toggleRem(idx, key, checked) {  
            if(checked) sandwiches[idx].removals.push(key);  
            else sandwiches[idx].removals = sandwiches[idx].removals.filter(r => r !== key);  
            updateTotal();  
        }  
      
        function updateAdd(idx, key, val) {  
            sandwiches[idx].adds[key] = Math.max(0, sandwiches[idx].adds[key] + val);  
            renderCustomizer(); // Ù„Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³Ø¹Ø± Ø§Ù„ÙØ±Ø¯ÙŠ  
        }  
      
        function calculateSPrice(s) {  
            return BASE_PRICE + Object.keys(ADDONS).reduce((sum, k) => sum + (s.adds[k] * ADDONS[k]), 0);  
        }  
      
        function updateTotal() {  
            let total = sandwiches.reduce((sum, s) => sum + calculateSPrice(s), 0);  
            document.getElementById('totalValue').innerText = total;  
        }  
      
        function renderInvoice() {  
            const bill = document.getElementById('billDetails');  
            if(sandwiches.length === 0) { showStep(1); return; }  
      
            let html = `<div class="card"><h3>ğŸ§¾ ÙØ§ØªÙˆØ±Ø© Ø§Ù„Ø·Ù„Ø¨</h3><hr style="margin:10px 0; opacity:0.1;">`;  
            sandwiches.forEach((s, i) => {  
                html += `  
                    <div style="margin-bottom:20px; border-bottom:1px solid #eee; padding-bottom:15px;">  
                        <div style="display:flex; justify-content:space-between; font-weight:bold;">  
                            <span>Ø³Ø§Ù†Ø¯ÙˆØªØ´ #${i+1}</span>  
                            <span>${calculateSPrice(s)} Ø¬</span>  
                        </div>  
                        ${s.removals.length ? `<div class="invoice-section section-removals">âŒ Ø¨Ø¯ÙˆÙ†: ${s.removals.map(r => INGR[r]).join(' - ')}</div>` : ''}  
                        ${Object.values(s.adds).some(v=>v>0) ? `  
                            <div class="invoice-section section-adds">  
                                ${Object.keys(s.adds).filter(k=>s.adds[k]>0).map(k=>`<div>+ ${NAMES[k]} (${s.adds[k]})</div>`).join('')}  
                            </div>  
                        ` : ''}  
                        <div class="item-actions">  
                            <button class="btn-sm btn-edit" onclick="editItem(${i})">âš™ï¸ ØªØ¹Ø¯ÙŠÙ„</button>  
                            <button class="btn-sm btn-delete" onclick="deleteItem(${i})">ğŸ—‘ï¸ Ø­Ø°Ù</button>  
                        </div>  
                    </div>`;  
            });  
            html += `</div>`;  
            bill.innerHTML = html;  
            showStep(3);  
        }  
      
        function editItem(idx) {  
            showStep(2);  
            document.getElementById(`card_${idx}`).scrollIntoView({ behavior: 'smooth' });  
        }  
      
        function deleteItem(idx) {  
            if(confirm("Ù‡Ù„ Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø³Ø§Ù†Ø¯ÙˆØªØ´ØŸ")) {  
                sandwiches.splice(idx, 1);  
                if(sandwiches.length === 0) {  
                    alert("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©ØŒ Ø³ÙŠØªÙ… ØªÙˆØ¬ÙŠÙ‡Ùƒ Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©");  
                    showStep(1);  
                } else {  
                    renderInvoice();  
                    updateTotal();  
                }  
            }  
        }  
      
        function sendWhatsApp() {  
            const n = document.getElementById('custName').value.trim();  
            const p = document.getElementById('custPhone').value.trim();  
            const a = document.getElementById('custAddress').value.trim();  
            if(!n || !p || !a) return alert('Ø¨Ø±Ø¬Ø§Ø¡ Ø¥ÙƒÙ…Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ');  
      
            let msg = `*ğŸ” Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ - Ø´Ø§ÙƒÙˆ Ø¨Ø±Ø¬Ø±*\n`;  
            msg += `ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${n}\nğŸ“ Ø§Ù„Ù‡Ø§ØªÙ: ${p}\nğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${a}\n`;  
            msg += `--------------------------\n\n`;  
      
            sandwiches.forEach((s, i) => {  
                msg += `*(${i+1}) Ø³Ø§Ù†Ø¯ÙˆØªØ´ Ø´Ø§ÙƒÙˆ*\n`;  
                if(s.removals.length) msg += `ğŸš« Ø¨Ø¯ÙˆÙ†: ${s.removals.map(r => INGR[r]).join('ØŒ ')}\n`;  
                Object.keys(s.adds).forEach(k => {  
                    if(s.adds[k] > 0) msg += `â• Ø¥Ø¶Ø§ÙØ©: ${NAMES[k]} (${s.adds[k]})\n`;  
                });  
                msg += `ğŸ’° Ø§Ù„Ø³Ø¹Ø±: ${calculateSPrice(s)} Ø¬\n\n`;  
            });  
      
            msg += `âœ… *Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${document.getElementById('totalValue').innerText} Ø¬Ù†ÙŠÙ‡*`;  
            window.open(`https://wa.me/201556849413?text=${encodeURIComponent(msg)}`, '_blank');  
        }  
    </script>  
</body>  
</html>